<!DOCTYPE html>
<html lang="en">

<head>
   <link rel="stylesheet" href="../../Assets/CSS/Signup.css">
   <title>
      Signup
   </title>
   <link rel="icon" type="image" href="../../Assets/Images/BIKERZ ZONE.png">
</head>

<body>
   <div class="signup">
      <h2>Sign Up</h2>
      <form action="login.html">
         <div class="inputs">
            <input type="text" id="username" title="Name doesn't contain number or spaces" required="true">
            <label for="username">Username</label>
         </div>
         <div class="inputs">
            <input type="text" id="ph_no" pattern="[0-9]{10,10}" minlength="10" maxlength="10"
               title="Phone Number doesn't contain letter or spaces and phone number must be 10 digit" required="true">
            <label for="ph_no">Phone Number</label>
         </div>
         <div class="inputs">
            <input type="email" id="email" title="Email doesn't contain caps or spaces" required="true">
            <label for="email">Email</label>
         </div>
         <div class="inputs">
            <input type="password" id="password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$"
               title="Password doesn't contain spaces" required="true">
            <label for="password">Password</label>
         </div>
         <div class="inputs">
            <input type="password" id="conf-password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$"
               title="Confirm Password doesn't contain spaces" required="true">
            <label for="conf-password">Confirm Password</label>
         </div>
         <button id="sign-up" onclick="signup()"> Sign Up </button>
         <a id="alr-acc" href="../../Pages/Account/login.html"> Already Have a Account?</a>

      </form>

   </div>


   <script>



      function signup() {

         let username = document.getElementById("username").value;
         let phone = document.getElementById("ph_no").value;
         let email_id = document.getElementById("email").value;
         let password = document.getElementById("password").value;
         let conf_password = document.getElementById("conf-password").value;

         let user = {
            "username": username,
            "ph_no": phone,
            "email": email_id,
            "password": password,
            "conf_password": conf_password

         };
         let array1;

         if (JSON.parse(localStorage.getItem("user_signup_list"))) {

            array1 = JSON.parse(localStorage.getItem("user_signup_list"))
         }

         else {
            array1 = []
         }


         let j = 0;
         for (let i = 0; i < array1.length; i++) {

            if (array1[i]["email"] == email_id) {
               j = 1;
               break;
            }
         }

         if (j == 1) {
            alert("Email is already exist")
         }
         else {
            array1.push(user);
            localStorage.setItem("user_signup_list", JSON.stringify(array1))
            alert("Ulla ponga bro")
         }

      }

   </script>
</body>

</html>