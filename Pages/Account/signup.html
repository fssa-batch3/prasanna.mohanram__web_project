<!DOCTYPE html>
<html lang="en">

<head>
   <link rel="stylesheet" href="../../Assets/CSS/Signup.css">
   <title>
      Signup
   </title>
   <link rel="icon" type="image" href="../../Assets/Images/BIKERZ ZONE.png">
</head>

<body>



   <!--Navigations-->
   <header>
      <div class="nav">
         <a href="../../index.html"><img id="logo" src="../../Assets/Images/BIKERZ_ZONE-removebg-preview.png"
               alt="logo"></a>

         <div class="options">
            <a class="a1" href="../Buy Bike/newold.html">Buy Bike</a>
            <a class="a1" href="../Sell Bike/sbike-pdetails.html">Sell Bike</a>
            <a class="a1" href="../review.html">Review of Bike</a>
            <a class="a1" href="../Price List/price.html">Price List of Bike</a>
            <a class="a1" href="../About/About.html">About</a>
            <a class="a1" href="../Account/signup.html">Signup/login</a>
            <a href="../../Pages/Account/profile.html"><img id="profile"
                  src="../../Assets/Images/account_circle_FILL0_wght400_GRAD0_opsz48.png" alt="profile_nav_img"></a>
         </div>
      </div>
   </header>


   <div class="signup">
      <h2>Sign Up</h2>
      <form id="signup">
         <div class="inputs">
            <input type="text" id="username" pattern="[A-Za-z]+" title="Name doesn't contain number or spaces"
               required="true">
            <label for="username">Username</label>
         </div>
         <div class="inputs">
            <input type="text" id="ph_no" pattern="[0-9]{10,10}" minlength="10" maxlength="10"
               title="Phone Number doesn't contain letter or spaces and phone number must be 10 digit" required="true">
            <label for="ph_no">Phone Number</label>
         </div>
         <div class="inputs">
            <input type="email" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{3,}$" title="Email doesn't contain caps or spaces" required="true">
            <label for="email">Email</label>
         </div>
         <div class="inputs">
            <input type="password" id="password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$"
               title="Password doesn't contain spaces" required="true">
            <label for="password">Password</label>
         </div>
         <div class="inputs">
            <input type="password" id="conf-password" pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\s).*$"
               title="Confirm Password doesn't contain spaces" required="true">
            <label for="conf-password">Confirm Password</label>
         </div>
         <button id="sign-up"> Sign Up </button>
         <a id="alr-acc" href="../../Pages/Account/login.html"> Already Have a Account?</a>

      </form>

   </div>


   <script>
      let signupform = document.getElementById("signup")
      signupform.addEventListener("submit", e => {
         e.preventDefault();
         signup()
      })
      function signup() {

         let username = document.getElementById("username").value;
         let phone = document.getElementById("ph_no").value;
         let email_id = document.getElementById("email").value;
         let password = document.getElementById("password").value;
         let conf_password = document.getElementById("conf-password").value;

         let user = {
            "username": username,
            "ph_no": phone,
            "email": email_id,
            "password": password,
            "conf_password": conf_password

         };
         let array1;

         if (JSON.parse(localStorage.getItem("user_signup_list"))) {

            array1 = JSON.parse(localStorage.getItem("user_signup_list"))
         }

         else {
            array1 = []
         }


         let j = 0;
         for (let i = 0; i < array1.length; i++) {

            if (array1[i]["email"] == email_id) {
               j = 1;
               break;
            }
         }

         if (j == 1) {
            alert("Email is already exist")
         }
         else {
            array1.push(user);
            localStorage.setItem("user_signup_list", JSON.stringify(array1))
            alert("Successfully created account")
            window.location.href = "login.html"
         }

      }

   </script>
</body>

</html>